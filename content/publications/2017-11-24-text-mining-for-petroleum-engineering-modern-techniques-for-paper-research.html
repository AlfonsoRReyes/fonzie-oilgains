---
title: 'Text Mining for Petroleum Engineering: Modern Techniques for Paper Research'
author: Alfonso R. Reyes
date: '2017-11-24'
slug: text-mining-for-petroleum-engineering-modern-techniques-for-paper-research
categories:
  - text mining
  - paper research
tags: []
image: text_mining_for_pe_modern_techniques.jpg
online: https://www.linkedin.com/pulse/text-mining-petroleum-engineering-modern-techniques-paper-reyes/
github: https://github.com/f0nzie/Well.Technical.Potential
---



<p>Last week I was talking with a colleague about some projects that could be deployed using R, and then the topic of well technical potential came up. I got hooked by the term and then decided to explore it a little bit more.</p>
<p>What is not better that going to the OnePetro website and search for papers on “technical potential”. I did and found 132 papers matching the term. Well, I was not going to purchase those 132 papers, you know. I had to reduce that number to a essential minimum. How?</p>
<p>That is the topic of today’s article. And for that purpose, we will be using text mining.</p>
<div id="the-toolbox" class="section level2">
<h2>The toolbox</h2>
<p>I will be using the following ingredients for this recipe. :)</p>
<ul>
<li><p>The R package for text mining tm to convert the papers to a corpus and apply text mining functions.</p></li>
<li><p>The plotting package ggplot2 for showing a quick term comparison from the papers</p></li>
<li><p>My R package petro.One to connect to OnePetro and retrieve the metadata generated by the query and put that in a dataframe.</p></li>
<li><p>RStudio as an Integrated Development Environment for R.</p></li>
</ul>
<p>All of these tools are open source and free. Never has been more true saying “free ride” that studying, learning and using state-of-the-art software than today. You will just have to invest some of your time.</p>
</div>
<div id="how-many-papers-are-there" class="section level2">
<h2>How many papers are there?</h2>
<p>Let’s find out how many papers contain the term “technical potential”. Here is the code in R:</p>
<pre class="r"><code># insert code</code></pre>
<p>What the package petro.One does is connecting with OnePetro and submit the text “technical potential” as a query to the website, specifying that we want papers that only have those two words together with the parameter “how”. We could read the number of papers from the object num_papers.</p>
<p>We read the titles of the papers and the rest of the metadata and put that in a dataframe df. So, we get 132 papers as it is shown in the figure below:</p>
<pre class="r"><code># insert dataframe</code></pre>
<p>Since the paper titles are too long I had to split the table in two to be able to show it here. The dataframe structure is essentially a table, very much looking like a spreadsheet with its rows and columns.</p>
</div>
<div id="selecting-the-papers" class="section level2">
<h2>Selecting the papers</h2>
<p>We will assume that the papers with stronger “technical potential” content having those words have in the title. Then, we will look at papers in the title.</p>
<p>At this point, we could do two things:</p>
<ul>
<li>retrieve the papers that have <code>technical potential</code> in the title.</li>
<li>perform an additional 1-word and 2-word term analysis on the papers that match our query. They call them n-grams.</li>
</ul>
<p>We will do first a text mining of the papers that gave a match on the title.</p>
<pre class="r"><code># insert code</code></pre>
<p>What grep does is finding a word pattern in the column title of the dataframe df. The function grep is a very powerful function to match any kind of text patterns. You will be able to an equivalent in every modern programming language.</p>
<p>There are 3 papers that match the pattern “technical potential”:</p>
<pre class="r"><code># insert dataframe</code></pre>
<p>These three papers are our best candidates from the 132 papers that matched our initial query. Next is finding which of the three papers is the one richer in “technical potential” content and focus our attention to it.</p>
<p>What we will do is reading inside the papers, the PDF files. Let’s retrieve those 3 papers.</p>
</div>
<div id="data-mining-the-pdf-files" class="section level2">
<h2>Data Mining the PDF files</h2>
<p>Once the papers have been downloaded we will verify that they are in our working directory:</p>
<pre class="r"><code># insert code</code></pre>
<p>That gives us three PDF files. Pay attention to the object files. We will use it to create the mining corpus in a moment. A corpus is a term used in text mining that is equivalent to saying “a body of text”, or “a body containing multiple bodies of text”. In our case, the corpus will contain three PDF files.</p>
</div>
<div id="read-the-pdf-files-and-inspect-the-corpus" class="section level2">
<h2>Read the PDF files and inspect the corpus</h2>
<p>The following operation is reading the papers that are in PDF format. <code>R</code> has a way to read PDF files through the function <code>readPDF</code> of the package <code>tm</code>.</p>
<p>The object papers is the corpus. The object papers.tdm is the term document matrix.</p>
<p>This is the result:</p>
<pre class="r"><code># insert code</code></pre>
<p>The table at the bottom is the term document matrix. A matrix where the rows are the terms and the columns are the counts of those terms for each paper.</p>
<p>Observe that each of the PDF files has an identifier like this [[1]], [[2]] and [[3]]. Take a look above at the number of characters each document contains.</p>
<p>Now, let’s get the number of words or terms:</p>
<pre class="r"><code># insert code</code></pre>
<p>which gives us:</p>
<pre class="r"><code># insert code</code></pre>
<p>A summary table of our initial findings:</p>
<pre class="r"><code># insert code</code></pre>
<p>We can see that the document with more content is gupta2017, the second quong1982, and the third, ruslan2014. But that’s not all; we will find something interesting later.</p>
</div>
<div id="find-the-most-frequent-terms-in-the-papers" class="section level2">
<h2>Find the most frequent terms in the papers</h2>
<p>Now that the papers corpus has been converted to a term document matrix, we could continue with finding the most frequent terms:</p>
<pre class="r"><code># insert code</code></pre>
<p>This is the result:</p>
<pre class="r"><code># insert code</code></pre>
<p>Observe the frequency of the terms. What is happening here is that even though “technical potential” is found in the title of the paper quong1982, the paper is not rich inside in technical potential terms. The other two papers are stronger. We will put aside quong1982 and analyze only gupta2017 and ruslan2014.</p>
<p>Just to be sure, one more time: let’s find the score of all the papers given the terms “technical” and “potential”.</p>
<p>This is the result:</p>
<p>Well, that confirms our initial analysis; quong1982 is not the best candidate paper for studying “technical potential”. Look at its counts 4 for technical, and 7 for potential.</p>
</div>
<div id="term-frequency-analysis-for-the-first-paper" class="section level2">
<h2>Term frequency analysis for the first paper</h2>
<p>What we do here is building a dataframe of terms and frequency at which each occur.</p>
<p>This is the result:</p>
<pre class="r"><code># dataframe</code></pre>
<p>Now, for the second paper:</p>
<pre class="r"><code># code</code></pre>
<p>And this is the result:</p>
<pre class="r"><code># dataframe</code></pre>
<p>We can see some differences between the two: such as the total number of terms or words, the frequency for each term, and that the terms and frequency differ in both documents.</p>
<p>To finalize, let’s plot terms vs frequency for both papers:</p>
<pre class="r"><code># code
# plot</code></pre>
<p>In your opinion, which paper would be the best selection to start reading?</p>
</div>
<div id="conclusion" class="section level2">
<h2>Conclusion</h2>
<ul>
<li><p>We rapidly determined, in our study for the term “technical potential”, which papers are the best candidates.</p></li>
<li><p>We used text mining, composed a document corpus and a term document matrix, to take that decision, and narrow down from 132 to 3 papers that search and the acquisition of those papers.</p></li>
<li><p>From the three selected papers, we were able to put aside one because the other two papers were even richer in the content we were looking for.</p></li>
<li><p>The application of text mining techniques help us to narrow down our research to selected papers, saving time and other resources.</p></li>
</ul>
<p>This doesn’t mean that we should discard reading or analyzing the other 130 papers; but doing a deeper analysis of all the papers would require purchasing and downloading all of them. If this option is viable, we may find that other papers may contain interesting content for the subject of our research. In the case of this study, for reasons of time and budget, we came up rapidly to only those two papers.</p>
</div>
<div id="references" class="section level2">
<h2>References</h2>
<ul>
<li><p>This is the website for this article. You can find the original files, code, datasets and figures at GitHub repository.</p></li>
<li><p>Post also available through SPE-Connect.</p></li>
</ul>
</div>
